<div class="grid">
  <div *ngFor="let row of [].constructor(gridSize * 2 - 1); let i = index; let count = count" class="row">
    <div *ngFor="let col of [].constructor(gridSize * 2 - 1); let x = index"
        [ngClass]="getCellClass(x, i, count)"
         (click)="isEven(x) && isEven(count - 1 - i) && onCellClick(x / 2 + 1, (count - 1 - i) / 2 + 1)">
      <div *ngIf="isEven(x) && isEven(count - 1 - i) && isPieceAt(x / 2 + 1, (count - 1 - i) / 2 + 1)"
           class="piece"
           [ngClass]="isPieceAt(x / 2 + 1, (count - 1 - i) / 2 + 1)?.color"></div>
    </div>
  </div>
</div>
